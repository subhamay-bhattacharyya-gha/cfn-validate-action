AWSTemplateFormatVersion: '2010-09-09'
Description: 'Valid nested template'

Parameters:
  Environment:
    Type: String
    Description: 'Environment name'

Resources:
  TestRole:
    Type: 'AWS::IAM::Role'
    Properties:
      AssumeRolePolicyDocument:
        Version: '2012-10-17'
        Statement:
          - Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
            Action: 'sts:AssumeRole'
      Tags:
        - Key: Environment
          Value: !Ref Environment

Outputs:
  RoleArn:
    Description: 'Role ARN'
    Value: !GetAtt TestRole.Arn